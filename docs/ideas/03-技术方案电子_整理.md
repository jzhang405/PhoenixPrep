# Logics-Parsing API 技术方案

## 安装

```bash
pip install gradio_client
```

## API 端点

### 1. `/to_pdf` 端点

将PDF或图片转换为PDF预览。

**代码示例：**
```python
from gradio_client import Client, handle_file

client = Client("https://alibaba-dt-logics-parsing.ms.show/")
result = client.predict(
    file_path=handle_file('https://github.com/gradio-app/gradio/raw/main/test/test_files/sample_file.pdf'),
    api_name="/to_pdf"
)
print(result)
```

**参数：**
- `file_path` (filepath, 必需): 上传PDF或图片文件

**返回：**
- 1个元素: filepath - 出现在"PDF preview" Pdf组件中的输出值

### 2. `/pdf_parse` 端点

解析PDF或图片文件，返回详细解析结果。

**代码示例：**
```python
from gradio_client import Client, handle_file

client = Client("https://alibaba-dt-logics-parsing.ms.show/")
result = client.predict(
    file_path=handle_file('https://github.com/gradio-app/gradio/raw/main/test/test_files/sample_file.pdf'),
    api_name="/pdf_parse"
)
print(result)
```

**参数：**
- `file_path` (filepath, 必需): 上传PDF或图片文件

**返回：**
- 6个元素的元组：
  - [0] str: 出现在"mmd rendering" Html组件中的输出值
  - [1] str: 出现在"value_19" Textbox组件中的输出值
  - [2] str: 出现在"value_22" Textbox组件中的输出值
  - [3] filepath: 出现在"convert result" File组件中的输出值
  - [4] filepath: 出现在"PDF preview" Pdf组件中的输出值
  - [5] str: 出现在"cost time" Textbox组件中的输出值

## FileData 类说明

FileData类是GradioModel的子类，表示Gradio接口中的文件对象。用于存储文件数据和元数据。

**属性：**
- `path`: 文件存储在服务器上的路径
- `url`: 指向文件的规范化服务器URL
- `size`: 文件大小（字节）
- `orig_name`: 上传前的原始文件名
- `mime_type`: 文件的MIME类型
- `is_stream`: 指示文件是否为流
- `meta`: 内部使用的附加元数据（不应更改）

## 使用限制

- 最大转换页数：20页
- 支持格式：PDF或图片文件